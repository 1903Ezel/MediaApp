<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Modern, responsive ve PWA destekli multimedya paylaÅŸÄ±m uygulamasÄ±.">
    <meta name="theme-color" content="#8b5cf6">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <title>MediaApp - Multimedya Platformu</title>

    <!-- âœ… OneSignal Web SDK (v16, modern sÃ¼rÃ¼m) -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>

    <!-- âœ… OneSignal baÅŸlangÄ±Ã§ ayarlarÄ± -->
    <script>
      // OneSignal iÃ§in global deferred dizisi tanÄ±mlanÄ±r
      window.OneSignalDeferred = window.OneSignalDeferred || [];

      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "6637009c-c223-44f0-8f70-ae3f6a5e3fc4", // ğŸ”¹ Senin gerÃ§ek OneSignal App ID'n
          safari_web_id: "", // (Safari desteÄŸi yoksa boÅŸ bÄ±rak)
          notifyButton: { enable: true },
          allowLocalhostAsSecureOrigin: true, // localhost testlerinde gerekli
        });

        console.log("ğŸš€ OneSignal SDK yÃ¼klendi ve baÅŸlatÄ±ldÄ±");

        // ğŸ“© Bildirim izni yoksa iste
        const permission = await OneSignal.Notifications.permission;
        if (permission !== 'granted') {
          console.log("ğŸ”” Bildirim izni isteme ekranÄ± gÃ¶steriliyor...");
          await OneSignal.Slidedown.promptPush();
        }
      });
    </script>
  </head>

  <body>
    <div id="app"></div>

    <!-- Vue ana uygulamasÄ± -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
